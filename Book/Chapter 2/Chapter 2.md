# Chapter 2. Vue 인스턴스

## 2.1 첫 애플리케이션

### 2.1.1 Vue 인스턴스 루트

모든 Vue 애플리케이션 중심에는 '루트 Vue 인스턴스'가 있다.  
루트 Vue 인스턴스는 뷰 생성자인 new Vue()로 생성할 수 있다.  
생성자는 HTML 서식을 컴파일하고, 인스턴스 데이터를 초기화하고, 데이터를 생성하고, 애플리케이션을 상호 작용형으로 만들어 주는 이벤트들을 바인딩하면서 애플리케이션을 가동시킨다.

Vue 생성자는 옵션 객체라는 자바스크립트 객체를 하나 받는다.

el 옵션은 Vue가 애플리케이션을 적용할 DOM 요소를 지정한다.  
Vue는 HTML에서 해당 DOM 요소를 찾아 애플리케이션 적용 지점으로 사용한다.

Vue는 ID를 사용하여 div를 찾아내 애플리케이션을 마운트한다.  
이 선택자는 CSS에서 사용하는 구문과 같다.

우리가 쓰는 CSS 선택자가 DOM 요소 하나 이상을 가리킨다면 Vue는 선택자와 일치하는 요소 중 첫 번째 요소에 애플리케이션을 마운트한다.

단일 페이지에서 Vue 인스턴스를 여러 개 작동하고 싶다면 고유한 선택자를 사용해서 각각의 다른 DOM 요소에 마운트할 수 있다.

- first_vue.html

### 2.1.2 애플리케이션이 잘 동작하는지 확인

뷰의 초기화와 애플리케이션 마운트가 완료되면 webstore 변수에 저장된 루트 Vue 인스턴스 참조를 반환한다.  
이 변수로 자바스크립트 콘솔에서 애플리케이션을 검사할 수 있다.

Vue-devtools 확장 기능은 뷰 애플리케이션과 데이터, 컴포넌트 간 관계를 검사할 수 있는 많은 기능을 제공한다.  
애플리케이션이 복잡해지면서 vue-devtools의 검색 트리 뷰는 자바스크립트 콘솔에서는 나타낼 수 없는 컴포넌트 간 관계를 보여준다.

### 2.1.3 뷰 안에서 무언가 보여 주기

뷰 인스턴스는 기본으로 제공한 DOM 요소를 템플릿으로 사용한다.

v-text 명칭은 속성이 참조하는 문자열을 표현한다.

긴 문자열 중간에 속성 값을 표현하고 싶다면 수염 구문({{property-name}})을 사용해서 속성에 연결할 수 있다.  
문장 안에 웹 저장소 이름을 포함한다면 \<p>Welcome to {{sitename}}\</p>라고 쓰면 된다.

- data-binding.html

### 2.1.4 Vue에서 속성 살펴보기

애플리케이션이 초기화될 때 Vue는 자동으로 각 데이터 객체의 속성에 getter와 setter 함수를 생성한다.  
이는 추가적인 코드를 작성하지 않아도 어떤 인스턴스 속성의 현재 값을 조회하거나 새로운 값을 설정할 수 있게 한다.

## 2.2 Vue 생명 주기

Vue가 처음으로 인스턴스화되면 Vue 생명 주기라고 하는 일련의 이벤트를 거친다.  
오랫동안 작동하는 Vue 애플리케이션은 이벤트 루프를 돌면서 대부분의 시간을 보낸다.  
그러나 대부분의 라이브러리를 끌어오는 무거운 작업은 애플리케이션이 처음 생성될 때 처리한다.

Vue 생명 주기의 각 단계는 이전 단계를 기반으로 한다.  
가상 DOM은 DOM을 나타내는 가벼운 추상화이다.  
웹 브라우저에서 사용하는 DOM 트리를 모방한다.  
Vue는 웹 브라우저 DOM보다 훨씬 빨리 가상 DOM을 업데이트할 수 있다.  
렌더 함수는 뷰가 사용자에게 정보를 보여주는 방법이다.

### 2.2.1 생명 주기 훅 추가

- life-cycle-hooks.js

### 2.2.2 생명 주기 코드 탐구

생명 주기 훅 첫 4개는 Vue가 애플리케이션을 생성하고 마운트함과 동시에 실행된다.

애플리케이션이 서드 파티 라이브러리의 인스턴스를 생성했다면, 라이브러리 해체 코드를 호출하거나 해당 라이브러리 참조를 수동으로 할당 해제해서 애플리케이션에 할당된 메모리 누수를 방지할 수 있다.

### 2.2.3 생명 주기 코드를 유지할까?

생명 주기 훅은 애플리케이션이 실행되면서 일어나는 일들을 살펴보기에 좋은 방법을 제공한다.

## 2.3 상품 표시

### 2.3.1 상품 데이터 정의

- product-data.js

### 2.3.2 상품 화면 마크업

메인 요소인 \<main>은 HTML5의 새로 추가된 요소로 웹 페이지나 애플리케이션의 주 콘텐츠를 담는 데 사용한다.

V-html 바인딩은 연결된 속성을 순수 HTML로 렌더링한다.  
편리할 수는 있지만 믿을 수 있는 값일 때만 사용하거나 거의 사용하지 않는 편이 좋다.

- product-markup.html

- Product-markup-cont.html

## 2.4 출력 필터 적용

출력 필터는 마크업에서 값이 표시되기 전에 값을 형식화하도록 도와준다.

### 2.4.1 필터 함수 작성

출력 필터는 값을 받아 형식화를 수행하고 형식화된 값을 출력하는 함수이다.  
텍스트 보간 일부로 사용되는 경우에는 바인딩하려는 속성을 필터에 전달하면 된다.

모든 출력 필터는 Vue 인스턴스에 전달하는 옵션들의 filters 객체에 whswo한다.

- format-price.js

### 2.4.2 마크업에 필터를 추가하고 여러 값 테스트

필터는 v-text 바인딩 구문을 쓰지 않는다.

필터가 있는 바인딩은 {{property | filter}}의 일반 표현식을 가진다.

- v-text-binding.html

## 2.5 연습 문제

## 2.6 요약

- Vue는 애플리케이션에 상호 작용을 추가할 수 있는 기능을 제공한다.

- 언제든지 Vue 생명 주기를 이용해서 특정 함수들을 실행할 수 있다.

Vue.js는 정보를 특정 방식으로 표시하는 데 도움이 되는 강력한 필터를 제공한다.
