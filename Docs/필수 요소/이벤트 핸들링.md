# 이벤트 핸들링

## 이벤트 청취

v-on 디렉티브는 @ 기호로, DOM 이벤트를 듣고 트리거 될 때와 JS를 실행할 때 사용한다.

## 메소드 이벤트 핸들러

이벤트 핸들러의 로직은 복잡하므로, JS를 v-on 속성 값으로 보관하는 것은 간단하지 않다.  
그게 v-on이 호출하고자 하는 메소드의 이름을 받는 이유이다.

## 인라인 메소드 핸들러

메소드 이름을 직접 바인딩 하는 대신에, 인라인 JS 구문에 메소드를 사용할 수도 있다.

때로 인라인 명령문 핸들러에서 원본 DOM 이벤트에 액세스 해야 할 수도 있다.  
$event를 사용해 메소드에 전달할 수 있다.

## 복합 이벤트 핸들러

',' 연산자를 사용하여 이벤트 핸들러 안에서 복합 메소드를 지정할 수 있다.

## 이벤트 수식어

Vue는 v-on 이벤트에 이벤트 수식어를 제공한다.  
수식어는 점으로 된 접미사이다.

- .stop
- .prevent
- .capture
- .self
- .once
- .passive

관련 코드가 동일한 순서로 생성되므로 수식어를 사용할 때 순서를 지정해야 한다.  
예를 들면, v-on:click.prevent.self를 사용하면 모든 클릭을 막을 수 있고, v-on:click.self.prevent는 엘리먼트 자체에 대한 클릭만 방지한다.

네이티브 DOM 이벤트에 독점적인 다른 수식어들과 달리, .once 수식어는 component events에서도 사용될 수 있다.

또한 Vue는 addEventListener의 passive option에 해당하는 .passive 수식어도 제공한다.  
특히 .passive 수식어는 모바일 환경에서 성능향상에 도움된다.

.prevent 수식어는 무시되고 브라우저에서 오류를 발생시키기 때문에, .passive 수식어와 .prevent 수식어를 함께 사용하지 말아야 한다.

## 키 수식어

Vue에서 키 이벤트를 청취할 때 키 수식어로 v-on 또는 @를 더할 수 있다.

KeyboardEvent.key를 통해 노출된 유효 키 이름을 케밥 케이스로 변환하여 수식어로 사용할 수 있다.

```html
<input @keyup.page-down="onPageDown" />
```

위 예제에서, 핸들러는 $event.key === PageDown일 때만 호출된다.

### 키 명령어

Vue는 가장 흔히 사용되는 키에서 명령어를 제공한다.

- .enter
- .tab
- .delete("Delete"와 "Backspace" 키 모두를 캡처한다.)
- .esc
- .space
- .up
- .down
- .left
- .right

## 시스템 수식어 키 목록

다음 수식어를 사용해 해당 수식어 키가 눌러진 경우에만 마우스 또는 키보드 이벤트 리스너를 트리거할 수 있다.

- .ctrl
- .alt
- .shift
- .meta(맥에서는 command key, 윈도우에서는 윈도우 키)

### .exact 수식어

.exact 수식어는 다른 시스템 수식어와 조합해 그 핸들러가 실행되기 위해 정확한 조합이 눌러야하는 것을 요구한다.

### 마우스 버튼 수식어

- .left
- .right
- .middle

## 왜 HTML로 된 리스너를 사용하는가?

모든 뷰 핸들러 함수와 표현식은 현재 뷰 처리하는 ViewModel에 엄격히 바인딩되기 때문에 유지보수가 어렵지 않다.  
실제로 v-on이나 @를 사용하면 몇 가지 이점이 있다.

1. HTML 템플릿을 간단히 하여 JS 코드 내에서 핸들러 함수 구현을 찾는 것이 더 쉽다.
2. JS에서 이벤트 리스너를 수동으로 연결할 필요가 없으므로 ViewModel 코드는 순수 로직과 DOM이 필요하지 않다.  
   이렇게 하면 테스트가 쉬워진다.

3. ViewModel이 파기되면 모든 이벤트 리스너가 자동으로 제거된다.  
   이벤트 제거에 대한 걱정이 필요없다.