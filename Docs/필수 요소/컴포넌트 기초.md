# 컴포넌트 기초

## 기본 예제

컴포넌트는 이름이 있는 재사용 가능한 인스턴스를 말한다.  
이 컴포넌트를 루트 인스턴스 안에서 커스텀 엘리먼트처럼 사용할 수 있다.

컴포넌트는 재사용 가능한 인스턴스이므로, data, computed, watch, methods와 라이프사이클 훅과 같은 옵션을 허용한다.  
유일한 예외는 el과 같은 몇 가지 루트만의 옵션이다.

## 컴포넌트 재사용

컴포넌트는 얼마든지 반복해서 재사용할 수 있다.

컴포넌트를 사용할 때마다 새로운 인스턴스가 생성된다.

## 컴포넌트 구성하기

애플리케이션이 중첩된 컴포넌트 트리로 구성되는 것은 일반적이다.

컴포넌트 등록에는 전역 등록과 지역 등록의 2가지 유형이 있다.

전역적으로 등록된 컴포넌트는 나중에 생성된 app 인스턴스의 템플릿에서 사용할 수 있으며, 해당 루트 인스턴스의 컴포넌트 트리의 모든 하위 컴포넌트에서도 사용할 수 있다.

## Props를 이용해 자식 컴포넌트에게 데이터 전달하기

Props는 컴포넌트에 등록할 수 있는 커스텀 속성이다.  
값이 prop 속성에 전달되면, 그 값은 해당 컴포넌트 인스턴스의 속성이 된다.

컴포넌트는 원하는 만큼 props를 가질 수 있으며 기본적으로는 어떤 종류의 값이라도 넘길 수 있다.  
data 속성과 마찬가지로 컴포넌트 인스턴스에서 prop 값에 접근할 수 있다.

일단 prop이 등록되면 커스텀 속성으로 데이터를 전달할 수 있다.

## 하위 컴포넌트 이벤트 수신

부모 컴포넌트는 기본 DOM 이벤트의 경우와 마찬가지로 v-on 또는 @을 사용하여 하위 컴포넌트 인스턴스의 모든 이벤트를 수신하도록 선택할 수 있다.

자식 컴포넌트는 내장된 $emit 메소드에 이벤트 이름을 넘겨서 이벤트를 발송할 수 있다.

컴포넌트의 emits 옵션에서 생성된 이벤트를 나열할 수 있다.

### 이벤트와 함께 값 emit 하기

$emit의 두 번째 파라미터를 사용하여 이벤트에 특정 값을 전달할 수도 있다.
그런 다음 부모의 이벤트를 수신할 때, $event를 사용하여 emit한 이벤트의 값에 접근할 수 있다. 

만약 이벤트 핸들러가 메소드인 경우,  
값이 해당 메소드의 첫 번째 파라미터로 전달된다.

### 컴포넌트에서 v-model 사용하기

커스텀 이벤트를 사용하여, v-model과 함께 작동되는 커스텀 입력을 만들 수도 있다.

v-model이 실제로 작동하려면 컴포넌트 내의 \<input>이 반드시 다음 규칙을 따라야 한다.

- value라는 속성을 modelValue prop에 바인딩한다.
- input에서 새로운 값과 update:modelValue 이벤트를 emit해야 한다.

커스텀 컴포넌트에서 v-model 기능을 만드는 또 다른 방법은 computed 속성의 기능을 사용하여 getter와 setter를 정의하는 것이다.

## 슬롯(Slot)을 이용한 컨텐츠 제공

HTML 엘리먼트와 마찬가지로 컨텐츠를 컴포넌트에 전달할 수 있으면 유용하다.

이 작업은 Vue의 커스텀 \<slot> 엘리먼트로 매우 간단하게 만들 수 있다.

## 동적 컴포넌트

Vue의 is라는 특별한 속성을 가진 \<component> 엘리먼트를 활용하여 동적으로 전환하는 컴포넌트를 만들 수 있다.

이 속성은 일반 HTML 엘리먼트와 함께 사용할 수 있지만, 컴포넌트로 취급되므로 모든 속성이 DOM 속성으로 바인딩된다.  
value와 같이 일부 속성이 예상대로 작동하려면 .prop 수식어를 사용하여 바인딩해야 한다.

## DOM 템플릿 파싱 주의사항

일부 HTML 엘리먼트에는 내부에 표시할 수 있는 엘리먼트에 대한 제한 사항과 일부 엘리먼트만 표시될 수 있다.  
이러한 제한이 있는 엘리먼트가 있는 컴포넌트를 사용할 때 문제가 발생할 수 있다.

v-is 특수 디렉티브를 사용하여 문제를 해결할 수 있다.

또한, HTML 속성명은 대소문자를 구분하지 않으므로, 브라우저는 모든 대문자를 소문자로 해석한다.  
즉, DOM내 템플릿을 사용할 때 camelCase된 prop명과 이벤트 핸들러 파라미터는 kebab-case된 해당 항목을 사용해야 한다.